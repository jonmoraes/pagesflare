mz360Container={init:function(){const e=document.querySelectorAll(".mz-360-container");mz360Container.vehicleData=new Array,mz360Container.isExterior=new Array,e.length>0&&e.forEach(((e,t)=>{if(null===document.querySelector(".mzBuildandPrice")){const t=mzFunc.getLang();ScrollTrigger.create({trigger:e,start:"-200% top",once:!0,onEnter:r=>{null==e.getAttribute("data-firstload")&&(mzFunc.doAJAXcall(mzFunc.vehicleListAPI+e.getAttribute("data-360_id")+"?lang_code="+t,(function(t){mz360Container.parseData(e,t,e.parentElement.dataset.tab_target)}),"GET"),mz360Container.firstLoad=!1,e.setAttribute("data-firstload","false"))}})}}))},parseData:function(e,t,r){const a=e.querySelector(".mz-360-container__content"),n=a.querySelector(".mz-360-viewer"),o=e.querySelectorAll(".mz-360-viewer-switch-btn"),i=mzFunc.getLang(),s=e.closest(".mz-tabs").querySelectorAll(".mz-tabs-tab")[r],l=t.data.model_code+t.data.option_code;if(/iPad|iPhone|iPod/.test(navigator.platform)){document.querySelectorAll(".mz-360-viewer__tool > button.mz-360-viewer-switch-btn").forEach((e=>{e.classList.contains("visually-hidden")||e.classList.add("visually-hidden")}))}e.dataset.year=t.data.year.url_slug,e.dataset.model=t.data.carline.url_slug,e.dataset.trim=t.data.trim.trim_type.url_slug,mz360Container.vehicleData[l]=new Array,mz360Container.isExterior[l]=new Array,mz360Container.vehicleData[l][r]=t.data,mz360Container.addExtColours(e,mz360Container.vehicleData[l][r]),mz360Container.isExterior[l][r]=!0,o.forEach((a=>{a.addEventListener("click",(()=>{if(mz360Container.isExterior[l][r]=!mz360Container.isExterior[l][r],mz360Container.updateViewer(l,n),mz360Container.lastScrollPos=window.pageYOffset,!mz360Container.isExterior[l][r]){const r=e.querySelector(".mz-image-360"),a=r.closest(".mz-360-container__content").querySelector('.mz-color-picker--interior [aria-selected="true"').dataset.color_id;mz360Container.updateInterior(a,r,t.data.visual)}}))}));const c=[...e.querySelectorAll(".mz-color-picker--exterior")];c.length>0&&c.forEach((r=>{const o=r.querySelectorAll(".mz-color-picker__color"),i=a.querySelector(".mz-color-picker--exterior");o.forEach((r=>{const a=r.dataset.color_id,o=r.dataset.color_name;r.addEventListener("click",(r=>{if(mz360Container.currentColor!==a&&!mz360Container.processingClick){mz360Container.processingClick=!0,mz360Container.updateColorPicker(a,o,i);let s=Number(r.target.closest("[data-tab_target]").dataset.tab_target);mz360Container.isExterior[l][s]=!0,mz360Container.generate360(e,mz360Container.vehicleData[l][s]),mz360Container.changeIntColours(e,mz360Container.vehicleData[l][s],a),mz360Container.updateViewer(l,n),mz360Container.updateCTA(e,t.data.visual,t.data.model_year.is_coming_soon),mz360Container.processingClick=!1}}))}))})),mz360Container.initiateSticky(e);const m=a.querySelector(".mz-360-trim-description .mz-360-trim-description__full-features"),d=m.querySelector(".mz-360-trim-description__full-features-content"),u=m.querySelector(".mz-360-trim-description__full-features-collapse-btn");d.querySelectorAll("li").length>5&&(d.classList.add("collapsed"),u.removeAttribute("hidden"),u.addEventListener("click",(e=>{"true"===u.getAttribute("aria-expanded")?(d.classList.add("collapsed"),d.classList.remove("expanded"),u.setAttribute("aria-expanded",!1),u.querySelector(".btn-text").textContent="en"===i?"Show all features":"Voir toutes les caractÃ©ristiques"):(d.classList.remove("collapsed"),d.classList.add("expanded"),u.setAttribute("aria-expanded",!0),u.querySelector(".btn-text").textContent="en"===i?"Hide some features":"Masquer des caractÃ©ristiques"),tabContainer=e.target.closest(".mz-tabs-container"),currentTab=e.target.closest(".mz-container[data-tab_target]"),ScrollTrigger.update(),ScrollTrigger.refresh(),currentTab&&(tabContainer.style.height=currentTab.offsetHeight+"px")}))),(e.closest(".mz-container-flex[data-tab_target]")?.classList.contains("active")||e.closest(".mz-container[data-tab_target]")?.classList.contains("active"))&&(mz360Container.generate360(e,mz360Container.vehicleData[e.dataset["360_id"].split("/").join("")][Number(s.dataset.tab_target)]),mzFunc.pushToGTMDataLayer({action:"Garage",model:e.dataset.model,year:e.dataset.year,trim:e.dataset.trim})),mz360Container.updateCTA(e,t.data.visual,t.data.model_year.is_coming_soon)},currentColor:"",addExtColours:function(e,t){const r=e.querySelector(".mz-color-picker--exterior"),a=t.visual.exteriors,n=r.querySelector(".mz-color-picker__listing");n.innerHTML="";let o=0;for(var i in a){const s=mz360Container.createSwatch(t.visual.static_content_base_path,a[i]);0==o&&(s.setAttribute("aria-selected","true"),mz360Container.changeIntColours(e,t,a[i].id),r.querySelector(".mz-color-picker__active-color-name").innerHTML=a[i].description),n.appendChild(s),o++}o<7&&o>4&&n.classList.add("small")},changeIntColours:function(e,t,r){const a=e.querySelector(".mz-color-picker--interior"),n=t.visual.interiors,o=a.querySelector(".mz-color-picker__listing");o.innerHTML="";let i=0;for(let s=0;s<n.length;s++)for(let l=0;l<n[s].allowed_exteriors.length;l++)if(n[s].allowed_exteriors[l].id==r){const r=mz360Container.createSwatch(t.visual.static_content_base_path,n[s],!0);if(0==i){r.setAttribute("aria-selected","true"),a.querySelector(".mz-color-picker__active-color-name").innerHTML=n[s].description;const o=e.querySelector(".mz-image-360");(e.closest(".mz-container-flex[data-tab_target]")?.classList.contains("active")||e.closest(".mz-container[data-tab_target]")?.classList.contains("active"))&&(/iPad|iPhone|iPod/.test(navigator.platform)?mzFunc.logging("Skip functionality on ios, known bug for crashing"):mz360Container.updateInterior(n[s].id,o,t.visual))}o.appendChild(r),i++}a.querySelectorAll(".mz-color-picker__color").forEach((r=>{const n=r.dataset.color_id,o=r.dataset.color_name,i=t.model_code+t.option_code;r.addEventListener("click",(r=>{if(mz360Container.currentColor!==n){mz360Container.updateColorPicker(n,o,a);let s=Number(r.target.closest("[data-tab_target]").dataset.tab_target);mz360Container.isExterior[t.model_code+t.option_code][s]=!1;const l=e.querySelector(".mz-image-360");/iPad|iPhone|iPod/.test(navigator.platform)?mzFunc.logging("Skip functionality on ios, known bug for crashing"):(mz360Container.updateInterior(n,l,t.visual),mz360Container.isExterior[i][s]=!1,a.querySelector(".mz-color-picker__active-color-name").innerHTML=r.target.dataset.color_name,mz360Container.updateViewer(i,e)),mz360Container.updateCTA(e,t)}}))}))},createSwatch:function(e,t,r){const a=document.createElement("button"),n=e+t.thumbnail;return a.className="reset mz-color-picker__color",a.dataset.color_id=t.id,a.dataset.color_name=t.description,a.setAttribute("aria-selected","false"),a.innerHTML=`<div class="mz-image mz-image-nolazy">\n\t\t<img src="${n}" alt="${t.description}">\n\t\t</div>\n\t\t<div class="mz-svg-wrapper mz-color-picker__active-icon" style="font-size: 1.625rem;">\n\t\t<i class="mz-svg mz-svg-selected"></i>\n\t\t</div>`,a},generate360:function(e,t){const r=t.visual.exteriors,a=e.querySelector(".mz-images-rotator-content"),n=e.querySelector('.mz-color-picker--exterior [aria-selected="true"]');for(var o in a.innerHTML="",r){if(r[o].id==n.dataset.color_id){const n=r[o][360].start_index,i=r[o][360].end_index;for(let e=n;e<i+1;e++){let e=document.createElement("img");e.classList.add("mz-images-loading"),e.src="/static/tempImgs/360-container/360_LoadingAnimation.gif",a.appendChild(e)}mz360Container.load360img(e,r[o][360],t.visual.static_content_base_path,n)}mzImagesRotator.createDraggable(a)}},load360img:function(e,t,r,a){const n=t.end_index,o=t.file_path,i=t.filename_prefix,s=t.filename_suffix,l=e.querySelector(".mz-images-rotator-content"),c=l.querySelectorAll("img");c[a-1].onload=function(){a<=Math.round(n/2)&&(a!=Math.round(n/2)&&mz360Container.load360img(e,t,r,n-(a-1)),a++,mz360Container.load360img(e,t,r,a)),a!=Math.round(n/2)&&a%5!=1||mzImagesRotator.createDraggable(l)},c[a-1].src=r+o+i+a+s,mzImagesRotator.setPosition(l)},initiateSticky:function(e){const t=e.querySelector(".mz-360-container__content"),r=t.querySelector(".mz-360-viewer"),a=e.querySelector(".mz-360-container__left"),n=e.querySelector(".mz-360-container__right"),o=e.querySelector(".mz-360-color-pickers");ScrollTrigger.matchMedia({"(max-width:1024px)":function(){ScrollTrigger.create({trigger:e,start:"-50px top",onUpdate:e=>{const t=document.querySelector(".mz-menu");r.style.marginTop=mzFunc.offsetAlert+t.offsetTop+mzFunc.offsetMenu+mzFunc.offsetSubmenu+30+"px",o.getBoundingClientRect().y<a.clientHeight?r.style.top=-(a.clientHeight-o.getBoundingClientRect().y)+"px":r.style.top=0},onLeaveBack:e=>{r.style.marginTop=0},end:()=>"+="+(n.clientHeight+t.clientHeight),onEnter:()=>{a.classList.add("sticky")},onEnterBack:()=>{a.classList.add("sticky")},onLeaveBack:()=>{a.classList.remove("sticky"),r.style.marginTop=0},scrub:!0})},"(min-width: 1025px)":function(){ScrollTrigger.create({trigger:r,start:"-60px top",onUpdate:e=>{const t=document.querySelector(".mz-menu");r.style.paddingTop=mzFunc.offsetAlert+t.offsetTop+mzFunc.offsetMenu+mzFunc.offsetPermAlert+mzFunc.offsetSubmenu+"px"},onLeaveBack:e=>{r.style.paddingTop=0},end:()=>"+="+(a.offsetHeight-r.offsetHeight),scrub:!0})}})},updateInterior:function(e,t,r){const a=r.interiors;let n="";for(let t=0;t<a.length;t++)a[t].id==e&&(n=r.static_content_base_path+a[t].filename);const o=t.querySelector(".mz-image-360-content");o.innerHTML="",t.setAttribute("data-src",n),(t.closest(".mz-container-flex[data-tab_target]")?.classList.contains("active")||t.closest(".mz-container[data-tab_target]")?.classList.contains("active"))&&mzImage360.showPanorama(o,n)},updateViewer:function(e,t){const r=mzFunc.getLang(),a=t.querySelector(".mz-360-viewer-switch-btn"),n=t.querySelector(".mz-360-viewer__exterior"),o=t.querySelector(".mz-360-viewer__interior");let i=Number(t.closest("[data-tab_target]").dataset.tab_target);if(this.isExterior[e][i]){n.setAttribute("aria-hidden",!1),o.setAttribute("aria-hidden",!0),a.querySelector(".mz-svg").classList.remove("mz-svg-carexterior"),a.querySelector(".mz-svg").classList.add("mz-svg-steeringwheel");const e="en"===r?"Interior view":"vue intÃ©rieure";a.querySelector(".mz-icon-text-text").textContent=e}else{n.setAttribute("aria-hidden",!0),o.setAttribute("aria-hidden",!1),a.querySelector(".mz-svg").classList.remove("mz-svg-steeringwheel"),a.querySelector(".mz-svg").classList.add("mz-svg-carexterior");const e="en"===r?"Exterior view":"vue extÃ©rieure";a.querySelector(".mz-icon-text-text").textContent=e}},updateColorPicker:function(e,t,r){const a=r.querySelector('[aria-selected="true"]'),n=r.querySelector(`.mz-color-picker__color[data-color_id="${e}"]`),o=r.querySelector(".mz-color-picker__active-color-name");a.setAttribute("aria-selected",!1),n.setAttribute("aria-selected",!0),o.innerHTML=t},updateCTA:function(e,t,r){const a=mzFunc.getLang(),n=e.dataset.year,o=e.dataset.model,i=e.dataset.trim,s=e.getAttribute("data-360_id");let l,c=null;for(var m in t.exteriors)l||(l=t.exteriors[m].id===e.querySelector('.mz-color-picker--exterior [aria-selected="true"]').dataset.color_id?t.exteriors[m].code:null);for(var m in t.interiors)c||(c=t.interiors[m].id===e.querySelector('.mz-color-picker--interior [aria-selected="true"]').dataset.color_id?t.interiors[m].code:null);const d=e.querySelector(".mz-360-color-pickers__cta");if(r)d.style.display="none";else if("en"===a){const e="/en/shopping/build-and-price/#/";d.href=`${e}${n}/${o}/${i}/${s}?exterior=${l}&interior=${c}`}else{const e="/fr/magasiner/construction-et-prix/#/";d.href=`${e}${n}/${o}/${i}/${s}?exterior=${l}&interior=${c}`}}},mzImagesRotator={defaultRotation:18,currentRotation:18,init:function(e){gsap.registerPlugin(Draggable),e.length>0&&e.forEach((e=>{if(e.classList.contains("js-processed"))return;const t=e.getElementsByClassName("mz-images-rotator-content")[0];e.classList.add("js-processed"),this.createDraggable(t),this.setPosition(t)}))},createDraggable:function(e){const t=e.querySelectorAll("img").length;Draggable.create(e,{type:"x",lockAxis:!0,force3D:!0,zIndexBoost:!1,currentPos:mzImagesRotator.currentRotation,minimumMovement:2,onDragStart:function(){this.target.classList.add("dragging")},onDrag:function(){if(this.isDragging){let e=this.target,r=this.deltaX;r>0?this.vars.currentPos===t-1?this.vars.currentPos=0:this.vars.currentPos<t-1&&(this.vars.currentPos+=1):r<0&&(0===this.vars.currentPos?this.vars.currentPos=t-1:this.vars.currentPos>0&&(this.vars.currentPos-=1)),e.style.transform=`translate(-${100*this.vars.currentPos}%, 0)`,mzImagesRotator.currentRotation=this.vars.currentPos}},onDragEnd:function(){this.target.classList.remove("dragging")}})},setPosition:function(e){e.style.transform=`translate(-${100*this.currentRotation}%, 0)`}},mzFunc.waitForEl(".mz-images-rotator").then((function(e){mzImagesRotator.init(e)})),mzFunc.waitForEl(".mzReactForms .mz-images-rotator").then((function(e){mzImagesRotator.init(e)})),mzImage360={init:function(e){if(e.length>0){e.forEach(((e,t)=>{e.classList.contains("js-processed")||e.classList.add("js-processed")}));const t=document.createElement("div");t.classList.add("mz-modal"),t.id="interiorModal",t.setAttribute("aria-hidden","true"),document.body.appendChild(t)}},showPanorama:function(e,t){mzFunc.getLang();const r=["xs","sm"].includes(mzFunc.getMediaQuery())?[]:["zoom","fullscreen"];new PhotoSphereViewer.Viewer({container:e,panorama:t,defaultZoomLvl:40,defaultYaw:4.7,defaultPitch:-.1,navbar:r});if(["xs","sm"].includes(mzFunc.getMediaQuery())){const a=document.createElement("i"),n=e.querySelector(".psv-navbar");a.classList.add("mz-svg","mz-svg-fullscreen","mz-svg--light-grey");const o=document.getElementById("interiorModal");a.addEventListener("click",(()=>{"true"===o.getAttribute("aria-hidden")?(new PhotoSphereViewer.Viewer({container:o,panorama:t,defaultZoomLvl:40,defaultYaw:4.7,defaultPitch:-.1,navbar:r}),o.querySelector(".psv-navbar").appendChild(a),o.setAttribute("aria-hidden","false"),document.body.classList.add("disabled")):(o.setAttribute("aria-hidden","true"),document.body.classList.remove("disabled"),n.appendChild(a))})),n.appendChild(a)}}},mzFunc.waitForEl(".mz-image-360").then((function(e){mzImage360.init(e)})),mzFunc.waitForEl(".mzReactForms .mz-image-360").then((function(e){mzImage360.init(e)})),mzLarge360={init:function(e){e.length>0&&e.forEach((e=>{const t=e.querySelectorAll(".mz-large-360__images-rotator img.lazy-custom"),r=e.querySelector(".mz-large-360__images-rotator .mz-images-rotator-content"),a=(e.querySelector(".mz-images-rotator-inner"),Draggable.get(".mz-large-360 .mz-images-rotator-content"));ScrollTrigger.create({trigger:t,once:!0,start:"-200% top",onEnter:()=>{mzLazy.lazyLoadImages(t,0,".mz-large-360")}}),ScrollTrigger.create({trigger:e,once:!0,start:"center bottom",end:"center center",onUpdate:t=>{if(1===t.direction){const n=Math.floor(100*t.progress);if(n<=10||n%2!=0)return;a.vars.currentPos<20&&a.vars.currentPos<e.getAttribute("data-images_processed")&&(a.vars.currentPos+=1,r.style.transform=`translate(-${100*a.vars.currentPos}%, 0)`,a.update())}}})}))}},mz7030={init:function(){var e=document.querySelectorAll(".mz-7030-image picture"),t=document.querySelectorAll(".mz-7030-text-wrapper");e.forEach(((e,t)=>{gsap.from(e,{y:"-="+(e.querySelector("img").height-e.closest(".mz-7030-image").clientHeight)/2,ease:"none",scrollTrigger:{trigger:e.closest(".mz-7030"),start:"top center",end:"bottom center",scrub:!0}})})),t.forEach(((e,t)=>{ScrollTrigger.matchMedia({"(max-width: 767px)":function(){gsap.from(e,{scrollTrigger:{trigger:e.closest(".mz-7030"),start:"top bottom",end:()=>"+="+innerHeight/1.2,scrub:!0},bottom:"-="+e.closest(".mz-7030-content").clientHeight+"px",ease:Linear.easeNone})},"(min-width: 768px) and (max-width: 1024px)":function(){e.closest(".mz-7030").style.minHeight=e.clientHeight+e.closest(".mz-7030").clientHeight/2+"px",gsap.set(e,{top:e.closest(".mz-7030-container").clientHeight/2+"px"}),gsap.from(e,{scrollTrigger:{trigger:e.closest(".mz-7030"),start:"center bottom",end:"center center",scrub:!0},top:"+="+e.clientHeight+"px",ease:Linear.easeNone})},"(min-width: 1025px)":function(){gsap.to(e,{scrollTrigger:{trigger:e.closest(".mz-7030"),start:"top bottom",end:()=>"+="+(innerHeight+e.closest(".mz-7030-content").clientHeight),scrub:!0},bottom:"+="+(e.parentElement.parentElement.clientHeight-e.clientHeight+25)+"px",ease:Linear.easeNone})}})}))}},mzAlert={init:function(){const e=document.querySelectorAll(".mz-alert:not(.mz-alert--permanent)");let t=0;e.forEach(((e,r)=>{const a=e.classList.contains("mz-cookies");e.offsetHeight>t&&!a&&""===mzFunc.checkCookie("alert"+e.dataset.id)&&(t=e.offsetHeight,e.style.top=-t)})),e.forEach(((r,a)=>{const n=r.querySelector(".mz-container-flex"),o=r.classList.contains("mz-cookies");if(""===mzFunc.checkCookie("alert"+r.dataset.id)){function s(t){alertEl=t.target.closest(".mz-alert"),o?gsap.to(alertEl,{bottom:-(alertEl.offsetHeight+10),onComplete:()=>{alertEl.classList.add("inactive")}}):gsap.to(alertEl,{top:-mzFunc.offsetAlert,onComplete:()=>{alertEl.classList.add("inactive")}});let r=!0;for(i=e.length-1;i>0;i--)e[i].classList.contains("inactive")||e[i].classList.contains("mz-cookies")||(r=!1);r&&!l&&(mzFunc.offsetAlert=0,gsap.to(".mz-menu",{top:0,onComplete:()=>{mzFunc.offsetAlert=0,mzFunc.updateOffsets(),mzMenu.menuAni.kill(),mzMenu.menuAni=null,mzMenu.showMenu(document.querySelector(".mz-menu").offsetHeight),document.querySelector(".mz-alert--permanent")&&(mzMenu.permAlertAni.kill(),mzMenu.permAlertAni=null,mzMenu.showPermAlert()),document.querySelector(".mz-tabs-submenu")&&(mzMenu.submenuAni.kill(),mzMenu.submenuAni=null,mzMenu.showSubmenu(mzFunc.offsetPermAlert)),document.querySelector(".mz-sticky-submenu")&&(mzMenu.stickySubmenuAni.kill(),mzMenu.stickySubmenuAni=null,mzMenu.showStickySubmenu(mzFunc.offsetPermAlert)),document.querySelector(".mz-page-top")&&(mzMenu.pageTopAni.kill(),mzMenu.pageTopAni=null,mzMenu.movePageTop(mzFunc.offsetPermAlert)),document.querySelector(".mz-hero")&&(mzMenu.heroTopMarginAni.kill(),mzMenu.heroTopMarginAni=null)}}),gsap.to(".mz-tabs-submenu",{top:mzFunc.offsetMenu}),gsap.to(".mz-sticky-submenu",{top:mzFunc.offsetMenu}),gsap.to(".mz-page-top",{paddingTop:mzFunc.offsetMenu}),gsap.to(".mz-hero",{marginTop:0})),mzFunc.bakeCookie("alert"+alertEl.dataset.id,"dismissed",365)}o||(n.style.height=t+"px",r.style.top=0);const l=r.querySelector(".mz-cookies .mz-btn");l&&l.addEventListener("click",(e=>{e.preventDefault(),s(e)})),r.querySelector(".mz-alert-close").addEventListener("click",(e=>{s(e)}))}else r.classList.add("inactive")})),mzFunc.offsetAlert=t}},mzAlertPermanent={init:function(){}},mzAlertPermanent={init:function(){const e=document.querySelector(".mz-alert--permanent");mzFunc.offsetPermAlert=e.offsetHeight,mzFunc.updateOffsets()}},mzFunc.waitForEl(".mz-alert").then((function(){mzAlert.init()})),mzFunc.waitForEl(".mz-alert--permanent").then((function(){mzAlertPermanent.init()})),mzArBlock={init:function(){gsap.utils.toArray(".mz-ar-block").forEach((e=>{mzArBlock.showMobile(),window.addEventListener("resize",(()=>{mzArBlock.showMobile()}))}))},showMobile:function(){const e=document.querySelector(".mz-mobile-ar-block");"unknown"!=mzFunc.detectPhone()?(e.classList.remove("visually-hidden"),"Android"==mzFunc.detectPhone()?e.querySelector("a").href=e.querySelector("a").getAttribute("data-android-url"):e.querySelector("a").href=e.querySelector("a").getAttribute("data-apple-url")):(e.classList.add("visually-hidden"),block.classList.remove("visually-hidden"))}},mzAtAGlance={init:function(){document.querySelectorAll(".mz-at-a-glance-listing").length>0&&(window.onresize=mzFunc.matchHeight(".mz-feature"))}},mzFunc.waitForEl(".mz-feature").then((function(){mzAtAGlance.init()})),mzCard={init:function(){document.querySelectorAll(".mz-cards-listing").forEach((e=>{e.querySelectorAll(".mz-card").forEach(((e,t)=>{if(e.classList.contains("clickable")){const t=e.querySelector(".mz-card__cta a");if(t){t.addEventListener("click",(e=>e.preventDefault()));const r=t.target&&"_blank"==t.target?"_blank":"_self";e.addEventListener("click",(()=>{mzFunc.pushToGTMDataLayer({event:e.getAttribute("data-link-type"),link:e.getAttribute("data-link-name")}),window.open(t.href,r)}))}}let r=0;window.innerWidth>1024&&t<4&&(r=.2*t)}))}))}},mzCardListing={init:function(){const e=document.querySelectorAll(".mz-cards-listing");if(e.length>0)try{e.forEach(((e,t)=>{if(e.classList.contains("mz-cards-listing-image-callout")){const t=e.querySelectorAll(".mz-card-image-callout"),r=Array.from(t).reduce((function(e,t){return e.getElementsByClassName("mz-card__title")[0].clientHeight>t.getElementsByClassName("mz-card__title")[0].clientHeight?e:t})),a=r.getElementsByClassName("mz-card__title")[0].clientHeight;t.forEach((e=>{e.getElementsByClassName("mz-card__title")[0].style.minHeight=`${a}px`})),window.addEventListener("resize",(function(e){r.getElementsByClassName("mz-card__title")[0].style="";const a=r.getElementsByClassName("mz-card__title")[0].clientHeight;t.forEach((e=>{e.getElementsByClassName("mz-card__title")[0].style.minHeight=`${a}px`}))}))}}))}catch(e){mzFunc.logging(e)}},onFeatureCardClicked:function(e,t,r){return{mount(){const t=e.selector.closest(".mz-modal").getAttribute("id"),r=document.querySelector(`[data-modal-target="${t}"]`),a=r.querySelectorAll(".mz-card-feature"),n=r.getAttribute("data-modal-target"),o=document.getElementById(n);o?a.forEach((t=>{t.addEventListener("click",(()=>{if(t.parentNode&&t.parentNode.dataset.mzSlideNth){mzCarousel.updateStartAt(e,t.parentNode.dataset.mzSlideNth);const r=o.querySelector(".glide__arrow--left");t.parentNode.dataset.mzSlideNth>0?(r.removeAttribute("disabled"),r.classList.remove("glide__arrow--disabled")):(r.setAttribute("disabled","disabled"),r.classList.add("glide__arrow--disabled"))}mzModal.openModal(o)}))})):mzFunc.logging(`Error: Modal, ${n}, is not found in onFeatureCardClicked().`)}}}},mzFunc.waitForEl(".mz-cards-listing .mz-carousel.mounted, .mz-cards-listing-video").then((function(){mzCardListing.init()})),mzCarousel={init:function(){window.addEventListener("load",this.muteVideos());document.querySelectorAll(".glide").forEach(((e,t)=>{const r={},a={},n=e.getAttribute("data-mz-autoplay"),o=parseInt(e.getAttribute("data-mz-autoplay-timer")),i=e.getAttribute("data-mz-infinite-loop"),s=(e.getAttribute("data-mz-hide-pips"),e.getAttribute("data-mz-carousel-theme")),l=e.getAttribute("data-mz-center");if(a.allowDisabler=this.allowDisabler,a.SlidelessDotDisabler=this.SlidelessDotDisabler,r.type="slider",r.perView=1,"true"==n&&(r.autoplay=o),"true"===i?(r.bound=!1,r.type="carousel"):(r.bound=!0,r.rewind=!1,r.focusAt=0),"true"===l&&(r.focusAt="center","features"!=s&&(r.peek=150,r.breakpoints={1023:{peek:92},767:{peek:32}})),"cards"===s)r.perView=3,r.gap=20,r.breakpoints={1023:{perView:2,gap:16},767:{focusAt:0,perView:1,gap:16,peek:16}};else if("video-cards"===s)r.perView=2,r.gap=20,r.breakpoints={1023:{perView:2,gap:16},767:{perView:1,gap:0}};else if("features"===s)r.perView=4,r.gap=60,r.breakpoints={1200:{perView:4,gap:30},1023:{perView:3,gap:20},767:{perView:1,gap:20}};else if("feature-cards-modal"===s)a.onFeatureCardClicked=mzCardListing.onFeatureCardClicked;else if("with-nav"===s){const t=e.closest(".mz-carousel-wrapper.mz-carousel-navigation"),n=e.closest(".mz-carousel-wrapper.mz-carousel-display");if(null!=t&&(delete a.allowDisabler,a.carouselWithNavigation=this.carouselWithNavigation,r.bound=!0,r.rewind=!0,r.type="carousel",r.perView=6,r.gap=0,r.breakpoints={1023:{perView:6,gap:1},767:{perView:4,gap:10}}),null!=n)return}"cards"===s?(items=e.querySelector(".glide__slides"),items.childElementCount>2||window.innerWidth<768?this.mount(e,r,a):(e.classList.add("mz-carousel-disabled"),items.classList.add("mz-container"),items.classList.add("mz-two-col-card-grid"),items.querySelectorAll(".glide__slide").forEach(((e,t)=>{e.style.width="auto"}))),items.childElementCount<4&&window.innerWidth>767&&(e.querySelector(".glide__bullets").style.display="none",e.querySelector(".glide__arrows").style.display="none")):this.mount(e,r,a)}))},mount:function(e,t,r){new Glide(e,t).mount({...r}),e.classList.add("mounted")},muteVideos:function(){document.querySelectorAll("video").forEach((e=>{e.muted=!0}))},updateStartAt:function(e,t){e.update({startAt:t})},allowDisabler:function(e,t,r){return{mount(){e.settings.rewind||e.on(["mount.after","run","update"],(()=>{for(let r of t.Controls.items){let a=r.querySelector(".glide__arrow--left");a&&(0===e.index?a.setAttribute("disabled",""):a.removeAttribute("disabled"));let n=r.querySelector(".glide__arrow--right");if(n){let r=t.Sizes.length-e.settings.perView<0?0:t.Sizes.length-e.settings.perView;e.index===r||e.index===t.Sizes.length-1?n.setAttribute("disabled",""):n.removeAttribute("disabled")}}}))}}},SlidelessDotDisabler:function(e,t){return{mount(){e.settings.bound&&0===e.settings.focusAt&&e.on(["mount.after"],(function(){for(let r of t.Controls.items)if(r.classList.contains("glide__bullets")){const a=t.Html.slides.length-(e.settings.perView-1),n=r.querySelectorAll(".glide__bullet");if(n)for(let e=0;e<n.length;e++)e>a-1&&n[e].remove()}}))}}},carouselWithNavigation:function(e,t){return{mount(){let t=e.selector.parentNode.parentNode,r=t.parentNode.parentNode.querySelector(".mz-modal__close");t=t.querySelector(".mz-carousel-wrapper.mz-carousel-display .glide"),t=new Glide(t).mount({dragDistance:!1});const a=document.createElement("div");a.className="mz-carousel-slide-tracker";const n=document.createElement("h3");let o=t.selector;o=o.querySelectorAll(".glide__slide").length,n.textContent=`${e.index+1} / ${o}`,a.appendChild(n),r.prepend(a),e.on(["mount.after","run"],(()=>{t.go("="+e.index),r.querySelector(".mz-carousel-slide-tracker h3").textContent=`${e.index+1} / ${o}`})),document.addEventListener("openModalGallery",(function(a){r.querySelector(".mz-carousel-slide-tracker h3").textContent=`${a.detail+1} / ${o}`,t.mount(),e.update({startAt:a.detail}),t.go("="+a.detail)}),!1);e.selector.querySelector(".glide__slides").addEventListener("click",(function(a){if(a.target.matches(".glide__slide")){const n=a.target,i=Number(n.getAttribute("data-mz-slide-nth"));(i||0===i)&&(e.go("="+i),t.go("="+i),r.querySelector(".mz-carousel-slide-tracker h3").textContent=`${i+1} / ${o}`)}}))}}}},mzFunc.waitForEl(".glide").then((function(){mzCarousel.init()})),mzCollapseBlock={init:function(){var e,t=document.querySelectorAll(".mz-collapse:not(.mz-collapse-multi) .mz-collapse__button");for(e=0;e<t.length;e++)t[e].addEventListener("click",(function(){this.classList.toggle("active"),this.nextElementSibling.classList.toggle("visible")}))}},mzFunc.waitForEl(".mz-collapse").then((function(){mzCollapseBlock.init()})),mzFileLoader={checkLoad:function(e){if(e.classList.contains("fileLoader")){e.classList.remove("fileLoader"),mzFileLoader.loadFiles(e);const t="main-loading-ready";document.body.classList.contains(t)||document.body.classList.add(t)}},loadFiles:function(e){const t=e.getAttribute("data-mz-loadfiles").split("|");for(i=0;i<t.length;i++)if(newFileExt=t[i].split(".").pop(),"css"===newFileExt)mzFunc.loadCss(t[i]);else if("js"===newFileExt){const e=[t[i]];mzFunc.loadJsSynchronously(e,"",0,!1)}},init:function(){document.querySelectorAll(".fileLoader").forEach(((e,t)=>{window.location.hash;gsap.to(e,{scrollTrigger:{trigger:e,start:"-150% top",once:!0,onEnter:()=>{mzFileLoader.checkLoad(e)},onEnterBack:()=>{mzFileLoader.checkLoad(e)}}})}))}},mzFooter={init:function(){const e=document.querySelector(".mz-footer__subscribe-link > .mz-link");mzFunc.waitForEl(".mzReactForms .mz-popup-modal").then((function(t){e.addEventListener("click",(e=>{e.preventDefault(),t[0]&&mzModal.openModal(t[0])}))}))}},mzFunc.waitForEl(".mz-footer").then((function(){mzFooter.init()})),mzFormFile={init:function(){const e=document.querySelectorAll('.mz-form-item--external-label input[type="file"]');for(let t=0;t<e.length;t++)e[t].addEventListener("change",(function(){filename=this.files[0].name,e[t].parentElement.querySelector(".mz-form-item__filename").innerHTML=filename}))}},mzFunc.waitForEl(".mz-form-item--external-label").then((function(){mzFormFile.init()})),mzGallery={init:function(){var e=document.querySelectorAll(".mz-gallery-container");e.length>0&&e.forEach(((e,t)=>{let r=e.querySelectorAll(".mz-gallery-content .mz-gallery-image");const a=mzFunc.getMediaQuery();var n=this.getUpdatedCounter(r.length),o=e.parentNode.getAttribute("data-target-modal"),i=document.getElementById(o);const s=document.createElement("div");s.className="mz-counter",s.innerHTML=`<h2>+${n}</h2>`;const l=document.createElement("div");l.className="mz-count-overlay",l.appendChild(s),n>0&&("xs"==a||"sm"==a||"md"==a?r[2].appendChild(l):"lg"!=a&&"xl"!=a||r[3].appendChild(l)),window.addEventListener("resize",(()=>{switch(l.querySelector("h2").textContent="+"+this.getUpdatedCounter(r.length),mzFunc.getMediaQuery()){case"md":case"sm":case"xs":null!=r[3]&&r[3].querySelectorAll(".mz-count-overlay").length>0?this.getUpdatedCounter(r.length)>1&&(r[3].removeChild(l),r[2].appendChild(l)):1==this.getUpdatedCounter(r.length)&&0==r[2].querySelectorAll(".mz-count-overlay").length&&r[2].appendChild(l),mzGallery.handleDisplayImageHeight(i);break;case"lg":case"xl":null!=r[3]&&r[2].querySelectorAll(".mz-count-overlay").length>0?(r[2].removeChild(l),r[3].appendChild(l)):null!=r[3]&&r[3].querySelectorAll(".mz-count-overlay").length>0&&0==this.getUpdatedCounter(r.length)&&r[3].removeChild(l),mzGallery.handleDisplayImageHeight(i)}})),i&&r.forEach((function(e,t){e.addEventListener("click",(function(){const e=new CustomEvent("openModalGallery",{detail:t});document.dispatchEvent(e),mzModal.openModal(i),mzGallery.handleDisplayImageHeight(i)}))}))}))},getUpdatedCounter:function(e){switch(mzFunc.getMediaQuery()){case"md":case"sm":case"xs":return e-3;default:return e-4}},handleDisplayImageHeight:function(e){const t=e.offsetHeight,r=e.querySelector(".mz-carousel-display");r&&(t<850?r.classList.add("mz-carousel-display--responsive-height"):r.classList.contains("mz-carousel-display--responsive-height")&&r.classList.remove("mz-carousel-display--responsive-height"))}},mzFunc.waitForEl(".mz-gallery-container").then((function(){mzGallery.init()})),mzLazy={init:function(){ScrollTrigger.config({limitCallbacks:!0}),gsap.utils.toArray("img.lazy").forEach((e=>{let t=e.dataset.src,r=document.createElement("img"),a=()=>{gsap.set(e,{blur:30}),r.onload=()=>{r.onload=null,r.src=e.src,e.src=t,gsap.set(r,{position:"absolute",top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight,blur:30}),e.parentNode.appendChild(r),gsap.to(e,1,{blur:0}),gsap.to(r,1,{opacity:0,blur:0,onComplete:()=>{r.parentNode.removeChild(r),e.classList.remove("lazy")}}),n&&n.kill()},r.src=t,e.parentNode.querySelector("source")&&e.parentNode.querySelectorAll("source").forEach((e=>{e.srcset=e.dataset.srcset}))},n=ScrollTrigger.create({trigger:e,once:!0,start:"-50% bottom",onEnter:a,onEnterBack:a})})),gsap.utils.toArray("video.lazy").forEach((e=>{let t=!1;loadVideo=()=>{e.parentNode.querySelector("source")&&e.parentNode.querySelectorAll("source").forEach((r=>{null!=r.dataset.srcset&&(r.dataset.src_ready=r.dataset.srcset),window.innerWidth>Number(r.dataset.size)&&!t&&(e.src=r.dataset.src_ready,t=!0)}))},st=ScrollTrigger.create({trigger:e,once:!0,start:"10px bottom",onEnter:loadVideo,onEnterBack:loadVideo})})),gsap.utils.toArray(".lazy[data-bg-src]").forEach((e=>{let t=e.dataset.bgSrc,r=()=>{t&&(e.style.backgroundImage=`url(${t})`)};ScrollTrigger.create({trigger:e,once:!0,start:"-50% bottom",onEnter:r,onEnterBack:r})})),gsap.utils.toArray("iframe.lazy").forEach((e=>{ScrollTrigger.create({trigger:e,once:!0,start:"-50% bottom",onEnter:this.loadIframe(e),onEnterBack:this.loadIframe(e)})}))},loadIframe:function(e){if(e.classList.contains("lazyloaded"))return;const t=e.dataset.src;t&&(e.src=t,e.classList.add("lazyloaded"))},lazyLoadImages:function(e,t,r){if(t<e.length){let a;image=e[t],a=window.innerWidth<768?image.dataset.src_mb:image.dataset.src;const n=document.createElement("img");n.src=image.src,image.src=a,gsap.set(n,{position:"absolute",top:image.offsetTop,left:image.offsetLeft,width:image.offsetWidth,height:image.offsetHeight}),image.parentNode.appendChild(n),gsap.to(n,{opacity:0,onComplete:()=>{n.parentNode.removeChild(n)}}),t<10?(image.closest(r).setAttribute("data-images_processed",t),mzLazy.lazyLoadImages(e,t+1,r)):image.onload=function(){image.closest(r).setAttribute("data-images_processed",t),mzLazy.lazyLoadImages(e,t+1,r)}}}},mzMenu={prevOffset:0,scrollHeight:document.querySelector("body").scrollHeight,init:function(){const e=document.querySelector(".mz-menu"),t=document.querySelector(".mz-tabs-submenu"),r=document.querySelectorAll(".mz-alert:not(.mz-cookies, .mz-alert--permanent)"),a=document.querySelector(".mz-alert--permanent"),n=document.querySelector(".mz-hero"),o=document.querySelector(".mz-hero-menu .mz-hero-content"),i=e.classList.contains("active");if(e){function s(e){mzMenu.stickySubmenu=e;const t=e.offsetHeight,r=e.classList.contains("active");r&&(mzFunc.offsetStickySubmenu=t),mzFunc.updateOffsets(),mzMenu.showStickySubmenu(mzFunc.offsetPermAlert),TweenLite.delayedCall(.4,(()=>{o&&r&&(mzMenu.heroAni.kill(),mzMenu.heroAni=null,mzMenu.moveHero(t+30))})),e.classList.add("js-processed")}mzFunc.offsetMenu=e.offsetHeight,mzFunc.updateOffsets(),r.length>0&&this.showAlerts(),a&&(a.style.top=mzFunc.offsetAlert+"px",this.showPermAlert()),(r.length>0||a)&&n&&this.pushDownHero(n),this.showMenu(mzFunc.offsetMenu),t&&this.showSubmenu(mzFunc.offsetPermAlert),o&&TweenLite.delayedCall(.4,(()=>{t?this.moveHero(t.offsetHeight+30):this.moveHero(50)})),mzFunc.waitForEl(".mz-sticky-submenu").then((function(e){s(e[0])})),mzMenu.triggerStickySubmenu=function(){s(document.querySelector(".mz-sticky-submenu"))},mzFunc.waitForEl(".mz-page-top").then((function(e){mzMenu.pageTop=e[0],mzFunc.updateOffsets(),mzMenu.movePageTop(0)}));const l=document.querySelectorAll("[data-menu_target]");l.forEach(((t,r)=>{t.addEventListener("click",(t=>{t.preventDefault();const r=document.getElementById("megaMenu"),a=r.querySelector(`.mz-megaMenu-item[data-menu="${t.target.dataset.menu_target}"]`);null!=a&&(this.removeActive(r.querySelectorAll(".mz-megaMenu-item")),t.target.classList.contains("selected")?(t.target.classList.remove("selected"),r.classList.remove("active"),mzFunc.killScroller(!1),window.scrollY>110?e.classList.add("scrolled"):e.classList.remove("scrolled")):(mzFunc.killScroller(!0),this.removeSelected(l),t.target.classList.add("selected"),r.classList.add("active"),a.classList.add("active"),a.querySelector(".mz-tabs")?e.classList.add("scrolled"):e.classList.remove("scrolled"),mzFunc.animateJellies(a)),mzFunc.updateOffsets(!0))}))}));const c=document.querySelectorAll("[data-megaMenu]");c.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault();const t=document.getElementById("megaMenu"),r=t.querySelectorAll(`.mz-megaMenu-item[data-menu="${e.target.dataset.megamenu}"]`)[0];this.removeActive(t.querySelectorAll(".mz-megaMenu-item")),chevronArr=t.querySelectorAll(".mz-megaMenu-menu i"),chevronArr.forEach((e=>{e.classList.remove("mz-svg--rotate270"),e.classList.add("mz-svg--rotate90")})),e.target.classList.contains("selected")?(e.target.getElementsByTagName("i")[0].classList.remove("mz-svg--rotate270"),e.target.getElementsByTagName("i")[0].classList.add("mz-svg--rotate90"),e.target.classList.remove("selected")):(this.removeSelected(c),e.target.getElementsByTagName("i")[0].classList.add("mz-svg--rotate270"),e.target.getElementsByTagName("i")[0].classList.remove("mz-svg--rotate90"),e.target.classList.add("selected"),r.classList.add("active"),mzFunc.animateJellies(r))}))}));document.querySelector(".mz-menu-hamburger").addEventListener("click",(t=>{t.preventDefault(),mzFunc.updateOffsets(!0);const r=document.getElementById("megaMenu");t.target.classList.contains("active")?(mzFunc.killScroller(!1),t.target.classList.remove("active"),r.classList.remove("active"),i||e.classList.remove("active")):(mzFunc.killScroller(!0),t.target.classList.add("active"),r.classList.add("active"),i||e.classList.add("active"))}));document.querySelectorAll(".mz-megaMenu-close").forEach((e=>{e.addEventListener("click",(e=>{document.querySelectorAll(".mz-menu-items--bottom .mz-menu-item.selected")[0].click()}))}))}window.scrollY>60&&document.querySelector(".mz-menu").classList.add("scrolled"),window.addEventListener("scroll",(()=>{mzMenu.scrollUpdater()}))},scrollUpdater:function(){if(document.querySelector("body").scrollHeight!=mzMenu.scrollHeight)return mzMenu.prevOffset=window.scrollY,void(mzMenu.scrollHeight=document.querySelector("body").scrollHeight);const e=document.querySelector(".mz-menu"),t=document.querySelector(".mz-tabs-submenu"),r=document.querySelectorAll(".mz-alert:not(.mz-cookies, .mz-alert--permanent)"),a=document.querySelector(".mz-alert--permanent"),n=document.querySelector(".mz-hero-menu .mz-hero-content"),o=document.querySelector(".mz-hero");let i=0;if(i=window.scrollY,i>60?e.classList.add("scrolled"):e.classList.remove("scrolled"),mzMenu.prevOffset>i+100)r.length>0&&mzMenu.alertsAni.play(),a&&mzMenu.permAlertAni.play(),mzMenu.menuAni.play(),t&&(t.querySelector(".mz-tabs-menu-inner").style.removeProperty("top"),t.querySelector(".mz-tabs--right").style.removeProperty("top"),mzMenu.submenuAni.play()),mzMenu.stickySubmenu&&mzMenu.stickySubmenuAni.play(),mzMenu.pageTop&&mzMenu.pageTopAni.play(),n&&TweenLite.delayedCall(.5,(()=>{mzFunc.updateOffsets("hero"),mzMenu.heroAni.play()})),o&&(r.length>0||a)&&mzMenu.heroTopMarginAni&&mzMenu.heroTopMarginAni.play(),mzMenu.prevOffset=i;else if(mzMenu.prevOffset<i&&i>100){if(t){const e=t.querySelector(".mz-tabs-menu-inner"),r=t.querySelector(".mz-tabs--right");window.innerWidth<768?r.style.top=t.offsetHeight+"px":window.innerWidth<1025?e.style.top=t.offsetHeight+"px":e.style.removeProperty("top"),mzMenu.submenuAni.reverse()}mzMenu.stickySubmenu&&mzMenu.stickySubmenuAni.reverse(),mzMenu.pageTop&&mzMenu.pageTopAni.reverse(),r.length>0&&mzMenu.alertsAni.reverse(),a&&mzMenu.permAlertAni.reverse(),null!=mzMenu.menuAni&&mzMenu.menuAni.reverse(),n&&void 0!==mzMenu.heroAni&&mzMenu.heroAni.reverse(),o&&r.length>0&&mzMenu.heroTopMarginAni&&mzMenu.heroTopMarginAni.reverse(),mzMenu.prevOffset=i}},showAlerts:function(){mzMenu.alertsAni=gsap.from(".mz-alert:not(.mz-cookies, .mz-alert--permanent)",{top:-mzFunc.offsetAlert,paused:!0,duration:.3,ease:Power1.inOut}).progress(1)},showPermAlert:function(){const e=["xs","sm"].includes(mzFunc.getMediaQuery())?-mzFunc.offsetPermAlert:0;mzMenu.permAlertAni=gsap.from(".mz-alert--permanent",{top:e,paused:!0,duration:.3,ease:Power1.inOut}).progress(1)},showMenu:function(e){mzMenu.menuAni=gsap.from(".mz-menu",{top:-e,paused:!0,duration:.3,ease:Power1.inOut,overwrite:"auto"}).progress(1)},showSubmenu:function(e){const t=["xs","sm"].includes(mzFunc.getMediaQuery())?0:e;mzMenu.submenuAni=gsap.from(".mz-tabs-submenu",{top:t,paused:!0,duration:.3,ease:Power1.inOut}).progress(1)},showStickySubmenu:function(e){const t=["xs","sm"].includes(mzFunc.getMediaQuery())?0:e;mzMenu.stickySubmenuAni=gsap.from(".mz-sticky-submenu",{top:t,paused:!0,duration:.3,ease:Power1.inOut}).progress(1)},moveHero:function(e){mzMenu.heroAni=gsap.from(".mz-hero-menu .mz-hero-content",{paddingTop:e,paused:!0,duration:.3,ease:Power1.inOut}).progress(1)},movePageTop:function(e){mzMenu.pageTopAni=gsap.from(".mz-page-top",{paddingTop:e,paused:!0,duration:.3,ease:Power1.inOut}).progress(1)},removeSelected:function(e){e.forEach(((e,t)=>{e.classList.remove("selected")}))},removeActive:function(e){e.forEach(((e,t)=>{e.classList.remove("active")}))},pushDownHero:function(e){mzMenu.heroTopMarginAni=gsap.from(e,{marginTop:0,paused:!0,duration:.3,ease:Power1.inOut}).progress(1)},stickySubmenu:null,pageTop:null},mzModal={init:function(e){e.length>0&&e.forEach(((e,t)=>{if(null===document.querySelector(".mzBuildandPrice")){if(e.classList.contains("js-processed"))return;e.getElementsByClassName("mz-modal-close-button")[0].addEventListener("click",(()=>{this.closeModal(e)})),e.classList.add("js-processed")}}))},openModal:function(e){e.setAttribute("aria-hidden","false");if(e.querySelector("a[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), *[tabindex]").focus(),!e.classList.contains("lazyloaded")){const t=e.querySelectorAll("img.lazy-custom");t.length>0&&this.lazyLoadModalImages(t);const r=e.querySelectorAll("iframe.lazy-custom");r.length>0&&r.forEach((e=>mzLazy.loadIframe(e))),e.classList.add("lazyloaded")}mzFunc.killScroller(!0)},closeModal:function(e){e.setAttribute("aria-hidden","true"),mzFunc.killScroller(!1),e.querySelectorAll("video").forEach((e=>e.pause())),e.querySelectorAll(".mz-video-embed__iframe").forEach((e=>e.setAttribute("src",e.getAttribute("src"))))},lazyLoadModalImages:function(e){e.forEach((e=>{const t=e.dataset.src,r=document.createElement("img");r.src=e.src,e.src=t,gsap.set(r,{position:"absolute",top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),e.parentNode.appendChild(r),gsap.to(r,{opacity:0,onComplete:()=>{r.parentNode.removeChild(r)}})}))}},mzFunc.waitForEl(".mz-modal").then((function(e){mzModal.init(e)})),mzModalStory={init:function(){const e=document.querySelectorAll(".mz-modal-story-opener");e.length>0&&e.forEach(((e,t)=>{const r=e.getAttribute("data-target-modal"),a=document.getElementById(r);if(!a)return;const n=a.querySelector(".mz-modal-story__blocks"),o=a.querySelector(".mz-modal-story__close-btn"),i=n.querySelectorAll(".mz-modal-story__block"),s=a.classList.contains("mz-modal-story--horizontal");if(e.addEventListener("click",(()=>{mzModal.openModal(n)})),o.addEventListener("click",(()=>{mzModal.closeModal(n)})),s){const e=n.querySelector(".mz-modal-story__arrow--left"),t=n.querySelector(".mz-modal-story__arrow--right");let r=0;e.addEventListener("click",(()=>{0!==r&&(r--,null!==t.getAttribute("disabled")&&t.removeAttribute("disabled"),0===r&&e.setAttribute("disabled",""),this.updateModal(i,r,n))})),t.addEventListener("click",(()=>{r!==i.length-1&&(r++,null!==e.getAttribute("disabled")&&e.removeAttribute("disabled"),r===i.length-1&&t.setAttribute("disabled",""),this.updateModal(i,r,n))}))}}))},updateModal:function(e,t,r){const a=e[t].getAttribute("data-block-colour-theme"),n=r.querySelector(".mz-modal-story__blocks-inner");a&&r.setAttribute("data-bg-theme",a),n.style.transform=`translate(-${100*t}%, 0)`}},mzFunc.waitForEl(".mz-modal-story").then((function(){mzModalStory.init()})),mzOwnerManual={docLang:mzFunc.getLang(),baseUrl:"/globalassets/mazda-canada/mazda-owners/owners/owner-manuals/CSVs/",CSVs:{csvList:[{en:"CX-30",fr:"CX-30",file:"/Owners_Manuals_CX-30.csv"},{en:"CX-3",fr:"CX-3",file:"/Owners_Manuals_CX-3.csv"},{en:"CX-50",fr:"CX-50",file:"/Owners_Manuals_CX-50.csv"},{en:"CX-5",fr:"CX-5",file:"/Owners_Manuals_CX-5.csv"},{en:"CX-7",fr:"CX-7",file:"/Owners_Manuals_CX-7.csv"},{en:"CX-9",fr:"CX-9",file:"/Owners_Manuals_CX-9.csv"},{en:"CX-90 plug-in hybrid",fr:"CX-90 VÃ‰HR",file:"/Owners_Manuals_CX-90-PHEV.csv"},{en:"CX-90 mild hybrid inline 6 turbo",fr:"CX-90 hybride lÃ©ger Ã  6 cylindres en ligne turbo",file:"/Owners_Manuals_CX-90-MHEV.csv"},{en:"MX-30 EV",fr:"MX-30 EV",file:"/Owners_Manuals_MX-30EV.csv"},{en:"MX-5",fr:"MX-5",file:"/Owners_Manuals_MX-5.csv"},{en:"Mazda2",fr:"Mazda2",file:"/Owners_Manuals_Mazda2.csv"},{en:"Mazda3",fr:"Mazda3",file:"/Owners_Manuals_Mazda3.csv"},{en:"Mazda3 Sport",fr:"Mazda3 Sport",file:"/Owners_Manuals_Mazda3Sport.csv"},{en:"Mazda5",fr:"Mazda5",file:"/Owners_Manuals_Mazda5.csv"},{en:"Mazda6",fr:"Mazda6",file:"/Owners_Manuals_Mazda6.csv"},{en:"RX-8",fr:"RX-8",file:"/Owners_Manuals_RX-8.csv"},{en:"Mazdaspeed3",fr:"Mazdaspeed3",file:"/Owners_Manuals_Mazdaspeed3.csv"},{en:"MPV",fr:"MPV",file:"/Owners_Manuals_MPV.csv"},{en:"Tribute",fr:"Tribute",file:"/Owners_Manuals_Tribute.csv"},{en:"ProtegÃ©",fr:"ProtegÃ©",file:"/Owners_Manuals_Protege.csv"},{en:"B-Series",fr:"SÃ©rie B",file:"/Owners_Manuals_B-series.csv"},{en:"626",fr:"626",file:"/Owners_Manuals_626.csv"},{en:"Millenia",fr:"Millenia",file:"/Owners_Manuals_Millenia.csv"}]},content:{buttons:[{en:"Download PDF",fr:"TÃ©lÃ©charger le PDF"},{en:"View Online",fr:"Voir en Ligne"}]},init:function(e){e.length>0&&e.forEach((e=>{let t;mzOwnerManual.setDefSelect(e),mzOwnerManual.setVehicleSelect(e),e.querySelector("#mazda-model").addEventListener("change",(r=>{t="localhost"===window.location.hostname?"http://localhost:8888/static/csv/"+mzOwnerManual.docLang+this.CSVs.csvList[r.target.value].file:this.baseUrl+mzOwnerManual.docLang+this.CSVs.csvList[r.target.value].file,this.setManualContent(t,e),mzOwnerManual.currentVehicle=r.target.options[r.target.selectedIndex].text})),e.querySelector("#model-year").addEventListener("change",(t=>{mzOwnerManual.showYear(t.target.value,t.target.options[t.target.selectedIndex].dataset.image,e)}))}))},setDefSelect:function(e){const t="en"==this.docLang?"Select Model Year":"SÃ©lectionnez lâ€™annÃ©e modÃ¨le";e.querySelector("#model-year").innerHTML=`<option selected="" value="" disabled="">${t}</option>`},setVehicleSelect:function(e){const t=mzOwnerManual.CSVs.csvList;for(let r=0;r<t.length;r++){const a=document.createElement("option");a.setAttribute("value",r),a.innerHTML=t[r][mzOwnerManual.docLang],e.querySelector("#mazda-model").appendChild(a)}},setManualContent:function(e,t){mzOwnerManual.setDefSelect(t),t.querySelector("#model-year-cont").classList.add("disabled"),Papa.parse(e,{download:!0,skipEmptyLines:!0,complete:function(e){t.querySelector("#model-year-cont").classList.remove("disabled"),t.querySelector(".mz-general-manuals__table").innerHTML="";for(let r=0;r<e.data.length;r++){const a=e.data[r];if(0===r)for(let r=1;r<a.length;r+=2)""!==a[r]&&mzOwnerManual.setModelYear(a[r].split(" ")[0],e.data[1][r],t);else if(r>1){let r;for(let n=1;n<a.length;n+=2)r=a[0],(""!==a[n]&&void 0!==a[n]||""!==a[n+1]&&void 0!==a[n+1])&&mzOwnerManual.populatManualRow(r,a[n],a[n+1],e.data[0][n].split(" ")[0],t)}}}})},setModelYear:function(e,t,r){const a=document.createElement("option");a.setAttribute("value",e),a.dataset.image=t,a.innerHTML=e,r.querySelector("#model-year").appendChild(a)},populatManualRow:function(e,t,r,a,n){const o=""===t||void 0===t?"disabled":"",i=""===r||void 0===r?"disabled":"",s=document.createElement("div");s.setAttribute("class","mz-manual-row visually-hidden"),s.dataset.manualYear=a,s.innerHTML=`\n      <div class="mz-manual-row__inner">\n        <p class="mz-manual-row__title strong">${e}</p>\n        <div class="mz-manual-row__cta">\n          <div class="mz-manual-row__cta-download">\n            <div style="font-size: 1.8rem;" class="mz-svg-wrapper ">\n              <i class="mz-svg undefined undefined mz-svg-downloadbrochure"></i>\n            </div>\n            <a href="${t}" class="interactive ${o}" target="_blank">&nbsp;${mzOwnerManual.content.buttons[0][mzOwnerManual.docLang]}</a>\n          </div>\n          <a href="${r}" class="interactive ${i}" target="_blank">${mzOwnerManual.content.buttons[1][mzOwnerManual.docLang]}</a>\n        </div>\n      </div>\n    </div>`,n.querySelector(".mz-general-manuals__table").appendChild(s)},showYear:function(e,t,r){let a=""!=t?`<div class="mz-flex-2">\n        <img class="mz-image" src="${t}">\n      </div>`:"";r.querySelectorAll(".mz-manual-row").forEach((t=>{t.classList.add("visually-hidden"),t.dataset.manualYear==e&&t.classList.remove("visually-hidden")})),null!=r.querySelector("#manualTitle")&&r.querySelector("#manualTitle").remove();const n=document.createElement("div");let o;n.setAttribute("class","mz-container-flex justify-evenly"),n.setAttribute("id","manualTitle"),o="fr"===mzOwnerManual.docLang?`Manuels pour le modÃ¨le ${mzOwnerManual.currentVehicle} ${e}`:`Manuals for ${e} ${mzOwnerManual.currentVehicle}`,n.innerHTML=`<div class="mz-spacer mz-spacer-s"></div>\n      ${a}\n      <div class="h3 text--center mz-flex-1">\n       ${o}\n      </div>\n      <div class="mz-spacer mz-spacer-s"></div>`,r.querySelector(".mz-general-manuals__table").prepend(n)}},mzFunc.waitForEl(".mz-owner-manual").then((function(e){mzOwnerManual.init(e)})),mzPopupModal={init:function(){const e=document.querySelector(".mz-popup-modal");if(e){const t="visited",r="popup",a=30,n=e.querySelector(".mz-popup-modal .mz-modal-close-button"),o=mzFunc.checkCookie(r);o!==t&&this.handlePopupOpen(e),n.addEventListener("click",(()=>{o!==t&&mzFunc.bakeCookie(r,t,a)}))}},handlePopupOpen:function(e){let t,r=!1,a=!1,n=!1;const o=12e4;function i(i){if(!r){if(a)return mzModal.openModal(e),void(r=!0);if(n&&"mousemove"===i.type&&i.clientY<=5)return mzModal.openModal(e),void(r=!0);clearTimeout(t),t=setTimeout((()=>a=!0),o)}}document.onmousemove=i,document.onmousedown=i,document.ontouchstart=i,document.onkeydown=i,document.addEventListener("scroll",i,!0),t=setTimeout((()=>a=!0),o),setTimeout((()=>n=!0),5e3)}},mzFunc.waitForEl(".mz-popup-modal").then((function(){mzPopupModal.init()})),mzPress={totalPress:totalPress=0,pressTake:pressTake=0,init:function(){const e=document.querySelector(".mz-press"),t=e.querySelector(".mz-press-more");if(t){const r=mzFunc.getLang(),a="/api/ArticleList",n="dev"===mzFunc.detectEnvironment()?"https://dev.mazda.ca"+a:a,o=void 0!==e.dataset.pressYear?e.dataset.pressYear:"",i=void 0!==e.dataset.pressSkip?e.dataset.pressSkip:"",s=void 0!==e.dataset.pressCategory?e.dataset.pressCategory:"";mzPress.pressTake=void 0!==e.dataset.pressTake?e.dataset.pressTake:"",mzPress.totalPress=""===i?0:Number(i),t.addEventListener("click",(e=>{mzFunc.doAJAXcall(`${n}?lang=${r}&year=${o}&skip=${mzPress.totalPress}&category=${s}&take=${mzPress.pressTake}`,mzPress.parseData,"GET")}))}},parseData:function(e){const t=document.querySelector(".mz-press");if(void 0!==e.items)for(mzPress.totalPress=""===pressTake?mzPress.totalPress+1:mzPress.totalPress+Number(mzPress.pressTake),i=0;i<e.items.length;i++){const r=e.items[i],a=document.createElement("div");a.className="mz-5050",a.innerHTML=`<div class="mz-5050">\n\t\t\t\t<div class="mz-container unconstrained mz-5050-container full-width no-gutter-between-cols mz-5050-featured-light">\n\t\t\t\t\t<div class="mz-5050-left mz-5050-content mz-bg--f5f5f5">\n\t\t\t\t\t\t<div class="mz-image mz-5050-image">\n\t\t\t\t\t\t\t<img src="${r.thumbnail}" alt="${r.thumbnailAltText}"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="mz-5050-right mz-5050-content mz-bg--white">\n\t\t\t\t\t\t<div class="mz-5050-text-wrapper">\n\t\t\t\t\t\t\t<h3 class="text--black  mz-5050-heading">${r.title}</h3>\n\t\t\t\t\t\t\t<p class="text--black mz-5050-text">\n\t\t\t\t\t\t\t\t${r.description}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<a class="mz-btn mz-btn--primary mz-btn--center" href="${r.link}"><span>${r.ctaText}</span></a>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<h8>${r.publishedDate}</h8>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`,t.querySelector(".mz-press-content").appendChild(a)}if(!1===e.moreItems){t.querySelector(".mz-press-more").style.display="none"}}},mzFunc.waitForEl(".mz-press").then((function(){mzPress.init()})),mzSubmenu={init:function(){const e=document.querySelector(".mz-tabs-submenu"),t=e.querySelector(".mz-tabs-mobile"),r=e.querySelector(".mz-tabs-menu-inner"),a=e.querySelector(".mz-tabs--right"),n=e.querySelector(".mz-tabs--left"),o=r.querySelectorAll("a"),i=a.querySelectorAll("a").length;if(t.addEventListener("click",(e=>{if(o.length>0&&i>0||o.length>1){const t=e.target.querySelector("i");t.classList.contains("mz-svg--rotate90")?(t.classList.remove("mz-svg--rotate90"),t.classList.add("mz-svg--rotate270"),r.classList.add("active"),a.classList.add("active"),window.innerWidth<1025&&mzFunc.killScroller(!0)):(t.classList.add("mz-svg--rotate90"),t.classList.remove("mz-svg--rotate270"),r.classList.remove("active"),a.classList.remove("active"),mzFunc.killScroller(!1)),mzFunc.updateOffsets(!0)}})),0===o.length&&i>0&&a.classList.add("noDropdown"),n.addEventListener("click",(e=>{gsap.to(window,{duration:1.5,scrollTo:0})})),r){const e=r.querySelectorAll("a");e.forEach((r=>{r.addEventListener("click",(r=>{mzFunc.killScroller(!1),e.forEach(((e,t)=>{e.classList.remove("active")})),r.target.getAttribute("target")||(r.preventDefault(),history.pushState?history.pushState(null,null,r.target.getAttribute("href")):location.hash=r.target.getAttribute("href")),document.body.classList.remove("inactive"),r.target.classList.add("active"),t.querySelector("span").innerHTML=r.target.innerHTML,t.click(),gsap.to(window,{duration:1.5,scrollTo:{y:r.target.getAttribute("href"),offsetY:mzFunc.offsetAlert+mzFunc.offsetSubmenu+mzFunc.offsetMenu,autoKill:!1}}),mzFunc.updateOffsets(!0)}))}))}mzFunc.offsetSubmenu=e.offsetHeight,mzFunc.updateOffsets()}},mzTable={init:function(){document.querySelectorAll(".mz-table").forEach((e=>{let t={top:0,left:0,x:0,y:0};const r=e.querySelector(".mz-table-container"),a=function(e){const a=e.clientX-t.x,n=e.clientY-t.y;r.scrollTop=t.top-n,r.scrollLeft=t.left-a},n=function(){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",n),r.style.cursor="grab",r.style.removeProperty("user-select")};if(r.addEventListener("mousedown",(function(e){t={left:r.scrollLeft,top:r.scrollTop,x:e.clientX,y:e.clientY},document.addEventListener("mousemove",a),document.addEventListener("mouseup",n),r.style.cursor="grabbing",r.style.userSelect="none"})),mzTable.setTableDim(r),window.addEventListener("resize",(e=>{mzTable.setTableDim(r)})),null!=e.querySelector("table")?.dataset.colWidths&&!["xs","sm"].includes(mzFunc.getMediaQuery())){const t=e.querySelector("table").dataset.colWidths.split("|");column=["md","lg"].includes(mzFunc.getMediaQuery())?t[1]:t[0],e.querySelector(".mz-table-corner").style.flex="0 0 "+(Number(column.split(",")[0])+Number(column.split(",")[1])+21)+"px",e.querySelector(".mz-table-left").style.flex="0 0 "+Number(column.split(",")[0])+"px",e.querySelector(".mz-table-col--selected").style.flex="0 0 "+Number(column.split(",")[1])+"px"}}))},setTableDim:function(e){const t=["lg","xl"].includes(mzFunc.getMediaQuery())?mzFunc.offsetPermAlert:0;e.style.maxHeight=window.innerHeight-(mzFunc.offsetSubmenu+mzFunc.offsetMenu+t+mzFunc.offsetSubmenu+20)+"px";e.querySelectorAll(".mz-collapse-multi td").forEach(((e,t,r)=>{const a=e.closest("table").querySelector("thead").offsetWidth;a<window.innerWidth?e.style.width=a-30+"px":e.style.width=window.innerWidth-30+"px"}))}},mzFunc.waitForEl(".mz-table").then((function(){mzTable.init()})),mzTabs={init:function(e){gsap.registerPlugin(Draggable),e.length>0&&e.forEach((e=>{if(e.classList.contains("js-processed"))return;let t=gsap.set({},{});const r=e.querySelector(".mz-tabs-menu");if(null===r)return;const a=r.querySelector(".mz-tabs-menu-container"),n=r.querySelector(".mz-tabs-menu-inner"),o=r.querySelector(".mz-tabs-menu--left"),i=r.querySelector(".mz-tabs-menu--right"),s=e.querySelector(".mz-tabs-container"),l=150,c=e.querySelectorAll(".mz-tabs-menu a");let m=()=>{if(n&&a)if(n.offsetWidth<=r.clientWidth||window.innerWidth<1024&&e.classList.contains("mz-tabs-submenu"))Draggable.get(n).disable(),i.classList.remove("active"),o.classList.remove("active"),a.style.justifyContent="center";else{Draggable.get(n).enable(),a.style.justifyContent="left";const e=Draggable.get(n);e.applyBounds(),e.x>-5||e.endX>-5?o.classList.remove("active"):o.classList.add("active"),e.x<e.minX+5||e.endX<e.minX+5?i.classList.remove("active"):i.classList.add("active")}},d=e=>{t.kill(),t=gsap.to(n,{duration:.4,x:e,onComplete:m})};const u=()=>{void 0===Draggable.get(n)&&Draggable.create(n,{type:"x",edgeResistance:.65,inertia:!0,bounds:a,lockAxis:!0,minimumMovement:5,onDragEnd:m})};function g(e){const t=a.getBoundingClientRect().left,r=a.getBoundingClientRect().right,n=a.clientWidth,s=r-i.getBoundingClientRect().left,l=t-o.getBoundingClientRect().right,c=null===e.nextElementSibling,m=null===e.previousElementSibling,u=e.getBoundingClientRect(),g=u.right-t+(c?0:s),z=u.left-t+(m?0:l),f=g-n;f>5?d("-="+f):z<-5&&d("-="+z)}function z(e,t,r){t>0&&"object"==typeof mzFunc&&(e.classList.add("active"),r.querySelector("span").innerHTML=e.innerHTML,["lg","xl"].includes(mzFunc.getMediaQuery())&&g(e))}u(),o&&o.addEventListener("click",(e=>{u();const t=Draggable.get(e.target.closest(".mz-tabs").querySelector(".mz-tabs-menu-inner"));-150<t.x?d("+="+l-(l+t.x)):d("+="+l)})),i&&i.addEventListener("click",(e=>{u();const t=e.target.closest(".mz-tabs").querySelector(".mz-tabs-menu-inner"),r=Draggable.get(t);r.x-l<r.minX?d("-="+(r.x-r.minX)):d("-="+l)})),window.addEventListener("resize",(e=>{m()})),c.forEach(((t,a)=>{if(t.closest(".mz-tabs-submenu")){t.addEventListener("click",(e=>{"object"==typeof mzFunc&&["lg","xl"].includes(mzFunc.getMediaQuery())&&g(t)}));if(e.querySelector(".mz-tabs-menu-inner")){const e=r.querySelector(".mz-tabs-mobile");let a=t.getAttribute("href");document.getElementById(a.split("#")[1])&&gsap.to(t,{scrollTrigger:{trigger:a,start:"top center",onEnter:r=>z(t,r.progress,e),onEnterBack:r=>z(t,r.progress,e),onLeave:e=>t.classList.remove("active"),onLeaveBack:e=>t.classList.remove("active")}})}}else t.addEventListener("click",(e=>{e.preventDefault();if(e.target.parentNode.childNodes.forEach((e=>{"A"===e.nodeName&&e.classList.remove("active")})),e.target.classList.add("active"),tabs=e.target.closest(".mz-tabs"),tabContArr=tabs.querySelectorAll(".mz-tabs-container >.mz-container[data-tab_target]"),this.setContentState(tabContArr,t),tabContArr=tabs.querySelectorAll(".mz-tabs-container >.mz-container-flex[data-tab_target]"),this.setContentState(tabContArr,t),e.target.closest(".mz-megaMenu")&&mzFunc.animateJellies(e.target.closest(".mz-tabs")),e.target.closest(".mz-tabs-jelly")){const t=tabs.querySelector(`.mz-tabs-container >[data-tab_target="${e.target.dataset.tab_target}"] .mz-360-container`);mz360Container.generate360(t,mz360Container.vehicleData[t.dataset["360_id"].split("/").join("")][Number(e.target.dataset.tab_target)])}g(t)}))}));if(e.classList.contains("mz-tabs--deep-linkable")){const e=window.location.hash;if(e){const t=e.substr(1),r=n.querySelector(`[data-tab_target="${t}"]`);if(targetTabIndex=[...r.parentElement.children].indexOf(r),r&&0!=targetTabIndex){n.querySelector("a").classList.remove("active"),r.classList.add("active");const e=s.querySelectorAll("[data-tab_target]");this.setContentState(e,r)}else this.setContentState(s.querySelectorAll("[data-tab_target]"),s.querySelector("[data-tab_target]"))}else n.querySelector("a").classList.add("active"),this.setContentState(s.querySelectorAll("[data-tab_target]"),s.querySelector("[data-tab_target]"))}jellyArr=e.querySelectorAll(".mz-jelly"),this.setJellyRolls(jellyArr),e.classList.add("js-processed"),m()}))},setContentState:function(e,t){e.forEach((e=>{e.classList.remove("active"),e.dataset.tab_target==t.dataset.tab_target&&(e.classList.add("active"),e.parentNode.style.height=e.offsetHeight+"px")}))},setJellyRolls:function(e){window.innerWidth>1024&&e.forEach((e=>{if(e.querySelector("a")){function t(e){let t=e.target.closest(".mz-container");null==t&&(t=e.target.closest(".mz-container-flex"));t.querySelectorAll(".mz-jelly").forEach((t=>{e.target.parentNode!=t&&!t.classList.contains("active")&&t.classList.contains("mz-jelly")&&t.classList.add("fade")}))}function r(e){let t=e.target.closest(".mz-container");null==t&&(t=e.target.closest(".mz-container-flex"));t.querySelectorAll(".mz-jelly").forEach((e=>{e.classList.contains("mz-jelly")&&e.classList.remove("fade")}))}e.querySelector("a").addEventListener("mouseover",t),e.querySelector("a").addEventListener("touchstart",t),e.querySelector("a").addEventListener("mouseout",r),e.querySelector("a").addEventListener("touchend",r)}}))}},mzTimeline={init:function(){document.querySelectorAll(".mz-timeline").forEach((e=>{circles=e.querySelectorAll(".mz-timeline-circle"),circles.forEach((t=>{mzTimeline.circleListener(t,e)}))}))},circleListener:function(e,t){const r=e=>{const t=e.parentNode,r=e.parentNode.querySelectorAll(".mz-timeline-header");t.classList.add("active"),r[0].classList.remove("h4"),r[0].classList.add("h1"),r[1].classList.remove("h4"),r[1].classList.add("h1")},a=e=>{const t=e.parentNode,r=e.parentNode.querySelectorAll(".mz-timeline-header");t.classList.remove("active"),r[0].classList.add("h4"),r[0].classList.remove("h1"),r[1].classList.add("h4"),r[1].classList.remove("h1")};gsap.to(t,{scrollTrigger:{trigger:e.parentNode,start:"50px center",end:"bottom top",onEnter:()=>r(e),onEnterBack:()=>r(e),onLeave:()=>a(e),onLeaveBack:()=>a(e)}}),e.addEventListener("click",(()=>gsap.to(window,.5,{scrollTo:{y:e.parentNode,offsetY:(window.innerHeight-e.parentNode.clientHeight)/2}})))}},mzVideoLoop={init:function(){const e=document.querySelectorAll(".mz-video-loop");e.length>0&&e.forEach((e=>{let t=document.querySelector(`.mz-video-loop-control--container[data-id="${e.dataset.id}"]`);t&&t.addEventListener("click",this.playPauseLoop)}))},playPauseLoop:function(e){e.target.classList.contains("active")?(e.target.classList.remove("active"),e.target.parentNode.getElementsByTagName("video")[0].play()):(e.target.classList.add("active"),e.target.parentNode.getElementsByTagName("video")[0].pause())}},mzFunc.waitForEl(".mz-video-loop").then((function(){mzVideoLoop.init()})),mzVideoFramesPlayer={init:function(e){const t=e.querySelector("video"),r=e.querySelector(".mz-video-frames-player__frames"),a=r.querySelectorAll(".mz-video-frames-player__frame"),n=e.querySelector(".mz-video-frames-player__arrows"),o=e.querySelectorAll(".mz-video-frames-player__bullets .glide__bullet"),i=n.querySelector(".mz-video-frames-player__arrow--right"),s=n.querySelector(".mz-video-frames-player__arrow--left");let l=0;t.play(),a&&(t.addEventListener("timeupdate",(function(){l!==a.length-1&&this.currentTime>=a[l+1].getAttribute("data-start")&&this.pause()})),i.addEventListener("click",(()=>{n.classList.add("hidden"),r.classList.add("hidden"),l===a.length-1?(l=0,t.currentTime=0):l++,setTimeout((()=>{r.querySelector('.mz-video-frames-player__frame[aria-hidden="false"]').setAttribute("aria-hidden",!0),a[l].setAttribute("aria-hidden",!1),r.classList.remove("hidden"),n.classList.remove("hidden"),o[0].parentNode.querySelector(".glide__bullet--active").classList.remove("glide__bullet--active"),o[l].classList.add("glide__bullet--active")}),1e3),t.play()})),s.addEventListener("click",(()=>{0!==l&&(n.classList.add("hidden"),r.classList.add("hidden"),l--,setTimeout((()=>{r.querySelector('.mz-video-frames-player__frame[aria-hidden="false"]').setAttribute("aria-hidden",!0),a[l].setAttribute("aria-hidden",!1),r.classList.remove("hidden"),n.classList.remove("hidden"),o[0].parentNode.querySelector(".glide__bullet--active").classList.remove("glide__bullet--active"),o[l].classList.add("glide__bullet--active")}),1e3),t.currentTime=a[l].getAttribute("data-start"),t.play())})))}},mzFunc.waitForEl(".mz-video-frames-player--feature-focus").then((function(e){e.length>0&&e.forEach((e=>{ScrollTrigger.create({trigger:e,once:!0,start:"top center",onEnter:()=>{setTimeout((function(){mzVideoFramesPlayer.init(e)}),300)}})}))})),mzVideoFramesPlayerUSP={loadVideos:function(e){e.querySelectorAll("video.lazy-custom").forEach((e=>{if(e.querySelector("source")){const t=e.querySelector("source");null!=t.dataset.srcset&&(e.src=t.dataset.srcset)}}))},init:function(e){const t=e.querySelector(".mz-video-frames-player__frames"),r=t.querySelectorAll(".mz-video-frames-player__frame"),a=e.querySelector(".mz-video-frames-player__desktop-progress-bar"),n=a.querySelectorAll("button");r[0].querySelector("video").play(),r[0].querySelector(".mz-video-frames-player__drawer").setAttribute("aria-hidden",!1);const o=r.length>1?1e3*r[1].getAttribute("data-start"):1e3*r[0].querySelector("video").duration;this.activeTimer=setTimeout((function(){r[0].querySelector("video").pause(),t.classList.add("paused")}),o),r.forEach(((e,a)=>{e.querySelector("video").currentTime=e.getAttribute("data-start"),e.addEventListener("click",(()=>{this.activeIndex!==a&&this.updateFrame(t,r,a)}))})),n.forEach(((e,n)=>{e.addEventListener("click",(()=>{this.activeIndex!==n&&(a.querySelector('button[aria-selected="true"]').setAttribute("aria-selected",!1),e.setAttribute("aria-selected",!0),this.updateFrame(t,r,n))}))}))},activeIndex:0,activeTimer:null,updateFrame:function(e,t,r){this.activeIndex=r;let a=0;const n=e.querySelector(".mz-video-frames-player__frame.active"),o=t[r];e.classList.remove("paused"),e.querySelector('.mz-video-frames-player__drawer[aria-hidden="false"]').setAttribute("aria-hidden",!0),o.querySelector(".mz-video-frames-player__drawer").setAttribute("aria-hidden",!1),n.classList.remove("active"),o.classList.add("active"),o.querySelector("video").play(),clearTimeout(this.activeTimer),n.querySelector("video").pause(),n.querySelector("video").currentTime=n.getAttribute("data-start"),a=this.activeIndex===t.length-1?1e3*o.querySelector("video").duration-1e3*o.getAttribute("data-start"):1e3*t[r+1].getAttribute("data-start")-1e3*o.getAttribute("data-start"),this.activeTimer=setTimeout((function(){o.querySelector("video").pause(),e.classList.add("paused")}),a)}},mzFunc.waitForEl(".mz-video-frames-player--usp").then((function(e){e.length>0&&e.forEach((e=>{ScrollTrigger.create({trigger:e,once:!0,start:"top bottom",onEnter:()=>{mzVideoFramesPlayerUSP.loadVideos(e),mzVideoFramesPlayerUSP.init(e)},onEnterBack:()=>{mzVideoFramesPlayerUSP.loadVideos(e),mzVideoFramesPlayerUSP.init(e)}})}))})),mzVideoPlayerLarge={init:function(){const e=document.querySelectorAll(".mz-video-player-large");e.length>0&&e.forEach(((e,t)=>{const r=e.querySelectorAll(".mz-video-player-large__open-video-btn"),a=e.querySelector(".mz-video-player-large__media .mz-video-embed"),n=a.querySelector(".mz-video-embed__iframe"),o=e.querySelector(".mz-video-player-large__background-media");r.forEach((t=>t.addEventListener("click",(()=>{a.setAttribute("aria-hidden",!1),o.setAttribute("aria-hidden",!0),e.classList.add("full-video-active"),mzLazy.loadIframe(n)}))))}))}},mzFunc.waitForEl(".mz-video-player-large").then((function(){mzVideoPlayerLarge.init()}));